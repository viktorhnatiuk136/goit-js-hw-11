{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = \"54630922-1eaa7a66b1da14f358e990b9b\";\n\nexport function getImagesByQuery(query) { \n    return axios.get('', {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        }\n    })\n        .then(response => {\n            return response.data;\n        })\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst divLoader = document.querySelector(\".loader\");\nconst list = document.querySelector(\".gallery\");\n\nconst lightBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250\n})\n\nfunction markup(arr) {\n    return arr.map(item => `\n        <li class=\"gallery-item\">\n            <a href=\"${item.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\"/>\n            </a>\n            <ul class=\"descr\">\n                <li class=\"descr-item\">\n                    <span class=\"descr-head\">Likes</span>\n                    <span class=\"descr-text\">${item.likes}</span>\n                </li>\n                <li class=\"descr-item\">\n                    <span class=\"descr-head\">Views</span>\n                    <span class=\"descr-text\">${item.views}</span>\n                </li>\n                <li class=\"descr-item\">\n                    <span class=\"descr-head\">Comments</span>\n                    <span class=\"descr-text\">${item.comments}</span>\n                </li>\n                <li class=\"descr-item\">\n                    <span class=\"descr-head\">Downloads</span>\n                    <span class=\"descr-text\">${item.downloads}</span>\n                </li>\n            </ul>\n        </li>`\n    ).join(\"\");\n};\n\nexport function createMarkup(arr) {\n    list.innerHTML = markup(arr);\n    lightBox.refresh();\n}; \n\nexport function clearGallery() {\n    list.innerHTML = \"\"\n}\n\nexport function showLoader() {\n    divLoader.classList.add(\"css-loader\")\n}\n\nexport function hideLoader() {\n    divLoader.classList.remove(\"css-loader\")\n}\n    \n\n\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport { showLoader } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const query = event.target.elements[\"search-text\"].value.trim();\n\n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Введіть дані для пошуку',\n            timeout: 1000,\n            position: 'topRight'\n        })\n        return\n    } \n        clearGallery();\n        showLoader();\n    getImagesByQuery(query)\n        .then(response => {\n            if (response.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    timeout: 1000,\n                    position: 'topRight'\n                })\n                form.reset();\n                return\n            } else {\n                createMarkup(response.hits);\n            }\n        })\n        .catch(error =>\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please try again later.\",\n                position: \"topRight\",\n            }))\n        .finally(() => {\n            hideLoader();\n            form.reset();\n        })\n    })"],"names":["axios","API_KEY","getImagesByQuery","query","response","divLoader","list","lightBox","SimpleLightbox","markup","arr","item","createMarkup","clearGallery","showLoader","hideLoader","form","event","iziToast","error"],"mappings":"+vBAEAA,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOH,EAAM,IAAI,GAAI,CACjB,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKC,GACKA,EAAS,IACnB,CACT,CCfA,MAAMC,EAAY,SAAS,cAAc,SAAS,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAExCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAOC,EAAK,CACjB,OAAOA,EAAI,IAAIC,GAAQ;AAAA;AAAA,uBAEJA,EAAK,aAAa;AAAA,gDACOA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKrCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,cAI7D,EAAM,KAAK,EAAE,CACb,CAEO,SAASC,EAAaF,EAAK,CAC9BJ,EAAK,UAAYG,EAAOC,CAAG,EAC3BH,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BP,EAAK,UAAY,EACrB,CAEO,SAASQ,GAAa,CACzBT,EAAU,UAAU,IAAI,YAAY,CACxC,CAEO,SAASU,GAAa,CACzBV,EAAU,UAAU,OAAO,YAAY,CAC3C,CC9CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAI,CAACd,EAAO,CACRe,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0BACT,QAAS,IACT,SAAU,UACtB,CAAS,EACD,MACH,CACGL,IACAC,IACJZ,EAAiBC,CAAK,EACjB,KAAKC,GAAY,CACd,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC5Bc,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,QAAS,IACT,SAAU,UAC9B,CAAiB,EACDF,EAAK,MAAK,EACV,MAChB,MACgBJ,EAAaR,EAAS,IAAI,CAE1C,CAAS,EACA,MAAMe,GACHD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,UAC1B,CAAa,CAAC,EACL,QAAQ,IAAM,CACXH,IACAC,EAAK,MAAK,CACtB,CAAS,CACJ,CAAA"}